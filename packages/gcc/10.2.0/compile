#!/usr/bin/env bash

# Put instructions to compile source code, remove this file if the language does not require this stage


case "${PISTON_ALIAS}" in
    gcc | c)
        rename 's/$/\.c/' "$@" # Add .c extension
        gcc -std=c11 *.c -lm
        ;;
    g++ | c++ | cpp)
        rename 's/$/\.cpp/' "$@" # Add .cpp extension
        g++ -std=c++17 *.cpp
        ;;
    gdc | d)
        rename 's/$/\.d/' "$@" # Add .d extension
        gdc *.d
        ;;
    *)
        echo "How did you get here? (${PISTON_ALIAS})"
        exit 1
        ;;
esac

chmod +x a.out